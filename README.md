# zapasnik-mobile-dev

# Мобильная разработка

Файлы базы данных находятся в android/db. Взаимодействие приложения с БД предполагается через сервер на Go, который находится в anroid/server

# Приложение для управления семейным инвентарем

Это приложение на Go предназначено для управления запасами продуктов в семье. Оно позволяет учитывать продукты, их количество и срок годности, а также отправлять уведомления, когда продукты заканчиваются или срок их годности подходит к концу.

## Оглавление
- [Функционал](#функционал)
- [Необходимые компоненты](#необходимые-компоненты)
- [Настройка](#настройка)
- [Конфигурация](#конфигурация)
- [Запуск приложения](#запуск-приложения)
- [API Эндпоинты](#api-эндпоинты)

## Функционал
- Учет семейных продуктов, их количества и срока годности.
- Уведомления при низком количестве или скором истечении срока годности продуктов.
- Синхронизация инвентаря между членами семьи в реальном времени.
- Возможность назначения ролей (например, Администратор, Участник).
- Ведение истории изменений инвентаря.

## Необходимые компоненты

- Docker и Docker Compose
- Go (если приложение запускается вне контейнера)

## Настройка

1. **Клонируйте репозиторий**:

    ```bash
    git clone https://github.com/IvanAbramovichWork/family-inventory-app.git
    cd family-inventory-app
    ```



## Конфигурация

### Структура проекта

- `app/` — исходный код приложения на Go
- `db/` — Dockerfile для базы данных и начальный SQL-скрипт `init.sql` для создания таблиц
- `docker-compose.yml` — настройки для Docker Compose, объединяющие сервисы приложения и базы данных

### Настройка базы данных

Файл `init.sql` в директории `db/` содержит SQL-запросы для создания необходимых таблиц в PostgreSQL.

## Запуск приложения

1. **Соберите и запустите контейнеры**:

    ```bash
    docker compose up --build
    ```

    Docker Compose автоматически создаст и запустит контейнеры приложения и базы данных.

2. **Проверьте статус контейнеров**:

    ```bash
    docker compose ps
    ```

    Убедитесь, что оба контейнера (`app` и `db`) находятся в статусе `Up`.

3. **Тестирование API**: Откройте Postman или используйте `curl`, чтобы проверить работу приложения. Например, для проверки эндпоинта `/ping`:

    ```bash
    curl http://localhost:8080/ping
    ```

    Если приложение работает корректно, вы получите ответ `{"message": "pong"}`.

## API Эндпоинты

| Метод | Эндпоинт                     | Описание                                   |
|-------|-------------------------------|--------------------------------------------|
| POST  | `/users/signup`               | Регистрация нового пользователя            |
| GET   | `/users/:id`                  | Получение информации о пользователе        |
| POST  | `/families`                   | Создание новой семьи                       |
| PUT   | `/families/:id`               | Обновление информации о семье              |
| POST  | `/products`                   | Добавление нового продукта                 |
| GET   | `/products`                   | Получение списка всех продуктов            |
| POST  | `/inventory`                  | Добавление продукта в инвентарь семьи      |
| PUT   | `/inventory/:id`              | Обновление количества продукта в инвентаре |
| POST  | `/transactions`               | Создание новой транзакции                  |
| GET   | `/transactions/:family_id`    | Получение истории транзакций семьи         |
| POST  | `/notifications`              | Создание уведомления                       |
| PUT   | `/notifications/:id/read`     | Пометка уведомления как прочитанного       |

## Примечание
Этот проект использует `sqlx` для работы с базой данных PostgreSQL и `Gin` для обработки HTTP-запросов. Все настройки базы данных можно изменить в файле `.env`.


# Инструкция для участников

Добро пожаловать в проект **Family Inventory Management Application**! Ниже приведена подробная инструкция для участников, описывающая процесс клонирования репозитория, настройки рабочего процесса и отправки изменений в репозиторий.

## Оглавление
- [Требования](#требования)
- [Клонирование репозитория](#клонирование-репозитория)
- [Создание веток для задач](#создание-веток-для-задач)
- [Коммит и отправка изменений](#коммит-и-отправка-изменений)
- [Создание Pull Request (PR)](#создание-pull-request-pr)
- [Обновление локальной копии](#обновление-локальной-копии)
- [Полезные советы](#полезные-советы)

---

### Требования
- **Git**: убедитесь, что у вас установлен Git. Проверить можно командой:
    ```bash
    git --version
    ```
- **GitHub-аккаунт**: доступ к проекту предоставляется через GitHub.
- **Разрешение на доступ**: администратор должен предоставить вам доступ к репозиторию.

### Клонирование репозитория

1. **Перейдите в репозиторий проекта** на GitHub.
2. **Склонируйте репозиторий** на локальный компьютер с помощью команды ниже:
    ```bash
    git clone https://github.com/<username>/<repository>.git
    cd <repository>
    ```

Эта команда создаст локальную копию репозитория на вашем компьютере.

### Создание веток для задач

Для каждого нового задания создавайте отдельную ветку, чтобы избежать конфликтов и упростить код-ревью.

1. **Проверьте, что вы находитесь в основной ветке**:
    ```bash
    git checkout main
    ```

2. **Синхронизируйте локальную копию с удалённой основной веткой**:
    ```bash
    git pull origin main
    ```

3. **Создайте новую ветку** для задачи, например, `feature/название-задачи`:
    ```bash
    git checkout -b feature/название-задачи
    ```

Теперь все ваши изменения будут сохраняться в этой ветке.

### Коммит и отправка изменений

После внесения изменений в проект добавьте и зафиксируйте их с помощью следующих команд:

1. **Добавьте изменения**:
    ```bash
    git add .
    ```

2. **Сделайте коммит** с описанием изменений:
    ```bash
    git commit -m "Краткое описание изменений"
    ```

3. **Отправьте ветку** с вашими изменениями в удаленный репозиторий:
    ```bash
    git push origin feature/название-задачи
    ```

### Создание Pull Request (PR)

1. Перейдите в репозиторий проекта на GitHub.
2. Откройте вкладку **Pull requests** и нажмите **New pull request**.
3. Выберите вашу ветку и `main` (или другую основную ветку) в качестве ветки для слияния.
4. Напишите описание изменений и нажмите **Create pull request**.

После создания PR другие участники проекта смогут просмотреть и одобрить изменения. После одобрения PR будет слит с основной веткой.

### Обновление локальной копии

Регулярное обновление вашей локальной копии проекта важно для предотвращения конфликтов.

1. Переключитесь на основную ветку:
    ```bash
    git checkout main
    ```

2. Синхронизируйте свою локальную копию с удаленной основной веткой:
    ```bash
    git pull origin main
    ```

3. Если вы продолжаете работу над задачей, вернитесь к вашей ветке:
    ```bash
    git checkout feature/название-задачи
    ```

4. Объедините изменения из основной ветки с вашей:
    ```bash
    git merge main
    ```

### Полезные советы

- **Частые коммиты**: Делайте небольшие и частые коммиты, чтобы можно было легко отслеживать изменения.
- **Проверяйте PR других участников**: Вовлечение в процесс проверки кода (код-ревью) помогает поддерживать высокий стандарт кода.
- **Комментируйте PR**: Оставляйте пояснения и описания изменений, это поможет другим участникам лучше понять ваши решения.
- **Используйте осмысленные сообщения коммитов**: Кратко опишите, какие изменения были сделаны, это упростит навигацию по истории проекта.

---